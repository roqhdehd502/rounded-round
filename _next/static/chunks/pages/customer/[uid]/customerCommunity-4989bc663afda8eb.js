(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{3321:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer/[uid]/customerCommunity",function(){return t(2490)}])},2190:function(e,n,t){"use strict";t.d(n,{G3:function(){return u},ZI:function(){return i},kh:function(){return c},uo:function(){return a},wj:function(){return o}});var r=t(165),l=t.n(r),o=function(e,n){return e.length>n?"".concat(e.substr(0,n+1),"..."):e},i=function(e){return e.toLocaleString("en")},c=function(e){return l()(new Date(e),{objectTime:Date.now(),lang:"ko"})},a=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMMDD",r=new Date(e);switch(t){case"YYYYMMDD":n="".concat(r.getFullYear(),".").concat(r.getMonth()+1,".").concat(r.getDate());break;case"YYYY":n="".concat(r.getFullYear());break;case"MM":n="".concat(r.getMonth());break;case"DD":n="".concat(r.getDate())}return n},u=function(e){return e.replace(/\\n/g,"\n")}},7189:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(1799),l=t(5893),o=t(7294),i=t(9473),c=t(4045),a=t.n(c),u=t(1163),s=t(5675),d=t.n(s),m=t(9403),f=t(8918),p=t(8214),b=t(424),h=t(5144),g=t(9773),j=t(6877);function v(e){var n,t=e.activeIndex,c=(0,o.useContext)(h.ZP).prefix,s=(0,i.I0)(),v=(0,u.useRouter)(),y=(0,i.v9)(function(e){return e.customerInfo.customerObj}),x=(0,i.v9)(function(e){return e.customerInfo.customerInfoObj}),N=(0,i.v9)(function(e){return e.customerSubscribesInfo.customerSubscribes}),w=(0,o.useRef)(null);(0,o.useEffect)(function(){s((0,g.b9)(v.query.uid)),s((0,j.AG)({subscriberUid:y.uid,subscribedUid:v.query.uid}))},[v.query,null==x?void 0:x.uid,N?null===(n=N[0])||void 0===n?void 0:n.subscriberUid:[]]);var C=(0,o.useCallback)(function(){(0,b.V)({header:"이메일 인증 확인 전송",icon:"pi pi-exclamation-triangle",message:"가입하신 이메일 주소로 인증 확인 이메일을 전송하시겠습니까?",position:"top",accept:function(){s(g.Hv()),s(g.kS()),v.replace("/")},reject:function(){}})},[s]),F=(0,o.useCallback)(function(e,n,t){s((0,j.m1)({subscriberUid:e,subscribedUid:n})),w.current.show({severity:"success",summary:"구독 성공",detail:"".concat(t,"님을 구독 하였습니다."),life:3e3})},[s]),E=(0,o.useCallback)(function(e,n){(0,b.V)({header:"구독 취소",icon:"pi pi-exclamation-triangle",message:"정말 구독 취소 하시겠습니까?",position:"top",accept:function(){s((0,j.$o)(e)),w.current.show({severity:"info",summary:"구독 취소",detail:"".concat(n,"님을 구독 취소 하였습니다."),life:3e3})},reject:function(){}})},[s]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(p.F,{ref:w}),(0,l.jsx)(b.Q,{}),(0,l.jsxs)("div",{className:"card surface-0 p-5 border-round-2xl",children:[(0,l.jsx)("div",{className:"flex align-content-center align-items-center justify-content-center",children:(0,l.jsxs)("div",{className:"card w-30rem",children:[(0,l.jsx)("div",{className:"flex justify-content-center",children:(0,l.jsx)(d(),{className:"border-circle image-align-center",alt:x.displayName,src:x.photoURL?x.photoURL:"".concat(c,"/img/anonymous-user-logo.png"),onError:function(e){return e.target.src="".concat(c,"/img/anonymous-user-logo.png")},width:240,height:240,quality:100})}),(0,l.jsx)("h1",{className:"flex justify-content-center",children:x.displayName?x.displayName:x.customerEmail})]})}),(0,l.jsx)("div",{className:"card w-auto mb-3",children:(0,l.jsx)("div",{className:"flex justify-content-center flex-wrap",children:(0,l.jsx)("div",{className:"flex align-items-center",children:y&&y.uid===x.uid?(0,l.jsxs)(l.Fragment,{children:[y.emailVerified?(0,l.jsx)(m.z,{className:"mr-4 w-8rem p-button-rounded p-button-info",icon:"pi pi-unlock",label:"인증됨",disabled:!0}):(0,l.jsx)(m.z,{className:"mr-4 w-8rem p-button-rounded p-button-info",icon:"pi pi-unlock",label:"인증하기",onClick:function(){return C()}}),(0,l.jsx)(a(),{href:{pathname:"/customer/".concat(y.uid,"/customerProfile/update"),query:{uid:x.uid}},as:"/customer/".concat(y.uid,"/customerProfile/update"),children:(0,l.jsx)(m.z,{className:"ml-4 w-8rem p-button-rounded p-button-warning",icon:"pi pi-pencil",label:"수정하기"})})]}):(0,l.jsx)(l.Fragment,{children:y?(0,l.jsx)(l.Fragment,{children:N.length>=1?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(m.z,{className:"p-button-rounded p-button-info",icon:"pi pi-check",label:"구독됨",onClick:function(){return E(N[0].docId,x.displayName)}})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(m.z,{className:"p-button-rounded p-button-info",icon:"pi pi-plus",label:"구독하기",onClick:function(){return F(y.uid,x.uid,x.displayName)}})})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("span",{})})})})})}),(0,l.jsx)(f.i,{}),(0,l.jsx)("div",{className:"card w-auto mb-3",children:(0,l.jsx)("div",{className:"flex justify-content-center flex-wrap",children:(0,l.jsxs)("div",{className:"flex align-items-center",children:[(0,l.jsx)(a(),{href:{pathname:"/customer/".concat(x.uid,"/customerContents"),query:(0,r.Z)({},x)},as:"/customer/".concat(x.uid,"/customerContents"),children:(0,l.jsx)(m.z,{className:"w-8rem p-button-rounded".concat(0===t?"":" p-button-outlined"),icon:"pi pi-folder",label:"컨텐츠"})}),(0,l.jsx)(a(),{href:{pathname:"/customer/".concat(x.uid,"/customerCommunity"),query:(0,r.Z)({},x)},as:"/customer/".concat(x.uid,"/customerCommunity"),children:(0,l.jsx)(m.z,{className:"ml-4 mr-4 w-8rem p-button-rounded".concat(1===t?"":" p-button-outlined"),icon:"pi pi-comments",label:"커뮤니티"})}),(0,l.jsx)(a(),{href:{pathname:"/customer/".concat(x.uid,"/customerProfile"),query:(0,r.Z)({},x)},as:"/customer/".concat(x.uid,"/customerProfile"),children:(0,l.jsx)(m.z,{className:"w-8rem p-button-rounded".concat(2===t?"":" p-button-outlined"),icon:"pi pi-user",label:"정보"})})]})})})]}),(0,l.jsx)("div",{className:"mt-4 mb-4"})]})}},2490:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return y}});var r=t(5893),l=t(7294),o=t(9473),i=t(4045),c=t.n(i),a=t(1163),u=t(5675),s=t.n(u),d=t(2896),m=t(8650),f=t(8918),p=t(9403),b=t(7189),h=t(9732),g=t(2190),j=t(9773),v=t(3693);function y(){var e=(0,o.I0)(),n=(0,a.useRouter)(),t=(0,o.v9)(function(e){return e.customerInfo.customerObj}),i=(0,o.v9)(function(e){return e.customerInfo.customerInfoObj}),u=(0,o.v9)(function(e){return e.customerCommunitiesInfo.customerCommunities}),y=(0,l.useState)([{field:"popularCount",order:-1}]),x=y[0],N=y[1],w=(0,l.useState)(!0),C=w[0],F=w[1];(0,l.useEffect)(function(){e((0,j.b9)(n.query.uid)),e((0,v.EU)(n.query.uid)),F(!1)},[n.query,null==t?void 0:t.uid,null==i?void 0:i.uid]);var E=function(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"flex align-content-center align-items-center justify-content-center",children:(0,r.jsxs)("div",{className:"card surface-0 p-5 w-9",children:[(0,r.jsxs)("div",{className:"flex justify-content-end mr-3",children:[(0,r.jsx)("div",{className:"mr-3",children:(0,r.jsx)(c(),{href:{pathname:"/customer/".concat(e.uid,"/customerCommunity/update/").concat(e.docId),query:{uid:e.uid,docId:e.docId}},as:"/customer/".concat(e.uid,"/customerCommunity/update/").concat(e.docId),children:(0,r.jsx)(p.z,{className:"p-button-rounded p-button-info",icon:"pi pi-pencil"})})}),(0,r.jsxs)("div",{className:"pt-1",children:[(0,g.kh)(e.uploadDate),"에 작성"]})]}),(0,r.jsx)(f.i,{}),(0,r.jsx)("div",{className:"field p-fluid w-full",children:(0,r.jsx)("div",{className:"text-lg white-space-normal w-full",children:e.contents.split("\\n").map(function(e,n){return(0,r.jsxs)("span",{children:[e,(0,r.jsx)("br",{})]},n)})})}),(0,r.jsx)("div",{className:"field p-fluid w-full",children:e.thumbnail?(0,r.jsx)(s(),{className:"border-round-2xl",src:e.thumbnail,onError:function(e){return e.target.src="https://www.primefaces.org/wp-content/uploads/2020/05/placeholder.png"},width:500,height:500,quality:100}):(0,r.jsx)("div",{className:"h-16rem"})})]})})})};return(0,r.jsx)(r.Fragment,{children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.Z,{activeIndex:1}),(0,r.jsx)("div",{className:"flex align-content-center align-items-center justify-content-center",children:(0,r.jsxs)("div",{className:"card surface-0 p-5 border-round-2xl w-auto",children:[t&&t.uid===i.uid?(0,r.jsx)("div",{className:"flex justify-content-end",children:(0,r.jsx)(c(),{href:{pathname:"/customer/".concat(t.uid,"/customerCommunity/create"),query:{uid:t.uid}},as:"/customer/".concat(t.uid,"/customerCommunity/create"),children:(0,r.jsx)(p.z,{className:"ml-4 w-9rem p-button-rounded p-button-info",icon:"pi pi-plus",label:"새 커뮤니티"})})}):(0,r.jsx)("div",{}),(0,r.jsx)(d.w,{value:u,className:"p-datatable-customers",rows:10,dataKey:"id",rowHover:!0,paginator:!0,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:"{first} / {last} of {totalRecords}",sortMode:"multiple",removableSort:!0,multiSortMeta:x,onSort:function(e){return N(e.multiSortMeta)},loading:C,responsiveLayout:"scroll",children:(0,r.jsx)(m.s,{field:"thumbnail",body:E,bodyStyle:{width:"auto"}})})]})})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(h.N,{})})})}y.layout="L1"},8650:function(e,n,t){"use strict";t.d(n,{s:function(){return r}});var r=function(){};r.displayName="Column",r.defaultProps={__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:"pi pi-bars",rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null}},424:function(e,n,t){"use strict";t.d(n,{Q:function(){return j},V:function(){return g}});var r=t(7294),l=t(6367),o=t(9403),i=t(3861),c=t(3308),a=t(519),u=t(4951),s=t(3643);function d(){return(d=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t,r,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var o=[],i=!0,c=!1;try{for(l=l.call(e);!(i=(t=l.next()).done)&&(o.push(t.value),!n||o.length!==n);i=!0);}catch(a){c=!0,r=a}finally{try{i||null==l.return||l.return()}finally{if(c)throw r}}return o}}(e,n)||function(e,n){if(e){if("string"==typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if("Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?b(Object(t),!0).forEach(function(n){p(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}var g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=h(h({},e),{visible:void 0===e.visible||e.visible})).visible&&a.F.emit("confirm-dialog",e),{show:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a.F.emit("confirm-dialog",h(h(h({},e),n),{visible:!0}))},hide:function(){a.F.emit("confirm-dialog",{visible:!1})}}},j=r.memo(r.forwardRef(function(e,n){var t=f(r.useState(e.visible),2),m=t[0],p=t[1],b=f(r.useState(!1),2),h=b[0],g=b[1],v=r.useRef(null),y=function(){return v.current||e},x=function(n){return(v.current||e)[n]},N=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return s.gb.getPropValue(x(e),t)},w=x("acceptLabel")||(0,l.qJ)("accept"),C=x("rejectLabel")||(0,l.qJ)("reject"),F=function(){N("accept"),P("accept")},E=function(){N("reject"),P("reject")},O=function(){p(!0)},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancel";p(!1),N("onHide",e)},k=function(n){if(n.tagKey===e.tagKey){var t=m!==n.visible;x("target")===n.target||e.target?t&&(v.current=n,n.visible?O():P()):(P(),v.current=n,g(!0))}};r.useEffect(function(){e.visible?O():P()},[e.visible]),r.useEffect(function(){return e.target||e.message||a.F.on("confirm-dialog",k),function(){a.F.off("confirm-dialog",k)}},[e.target]),(0,c.rf)(function(){h&&O()},[h]),(0,c.zq)(function(){a.F.off("confirm-dialog",k)}),r.useImperativeHandle(n,function(){return{props:e,confirm:k}});var S,I,M,D,L,q,z=(S=y(),I=(0,s.AK)("p-confirm-dialog",x("className")),M=s.gb.findDiffKeys(S,j.defaultProps),D=s.gb.getJSXElement(x("message"),S),L=s.Cz.getJSXIcon(x("icon"),{className:"p-confirm-dialog-icon"},{props:S}),q=function(){var e=(0,s.AK)("p-confirm-dialog-accept",x("acceptClassName")),n=(0,s.AK)("p-confirm-dialog-reject",{"p-button-text":!x("rejectClassName")},x("rejectClassName")),t=r.createElement(r.Fragment,null,r.createElement(o.z,{label:C,icon:x("rejectIcon"),className:n,onClick:E}),r.createElement(o.z,{label:w,icon:x("acceptIcon"),className:e,onClick:F,autoFocus:!0}));if(x("footer")){var l={accept:F,reject:E,acceptClassName:e,rejectClassName:n,acceptLabel:w,rejectLabel:C,element:t,props:y()};return s.gb.getJSXElement(x("footer"),l)}return t}(),r.createElement(i.V,d({visible:m},M,{className:I,footer:q,onHide:P,breakpoints:x("breakpoints")}),L,r.createElement("span",{className:"p-confirm-dialog-message"},D)));return r.createElement(u.h,{element:z,appendTo:x("appendTo")})}));j.displayName="ConfirmDialog",j.defaultProps={__TYPE:"ConfirmDialog",tagKey:void 0,visible:void 0,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,appendTo:null,footer:null,breakpoints:null,onHide:null,accept:null,reject:null}}},function(e){e.O(0,[257,861,367,362,774,888,179],function(){return e(e.s=3321)}),_N_E=e.O()}]);