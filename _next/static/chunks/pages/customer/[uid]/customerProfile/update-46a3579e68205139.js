(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[207],{8877:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer/[uid]/customerProfile/update",function(){return n(4247)}])},2190:function(e,t,n){"use strict";n.d(t,{G3:function(){return u},ZI:function(){return i},kh:function(){return l},uo:function(){return c},wj:function(){return a}});var r=n(165),o=n.n(r),a=function(e,t){return e.length>t?"".concat(e.substr(0,t+1),"..."):e},i=function(e){return e.toLocaleString("en")},l=function(e){return o()(new Date(e),{objectTime:Date.now(),lang:"ko"})},c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMMDD",r=new Date(e);switch(n){case"YYYYMMDD":t="".concat(r.getFullYear(),".").concat(r.getMonth()+1,".").concat(r.getDate());break;case"YYYY":t="".concat(r.getFullYear());break;case"MM":t="".concat(r.getMonth());break;case"DD":t="".concat(r.getDate())}return t},u=function(e){return e.replace(/\\n/g,"\n")}},4247:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(7568),o=n(655),a=n(5893),i=n(7294),l=n(9473),c=n(4045),u=n.n(c),s=n(1163),f=n(1153),p=n(6094),d=n(9403),m=n(2552),g=n(8918),h=n(424),b=n(9732),v=n(2190),j=n(9773);function y(){var e=(0,l.I0)(),t=(0,s.useRouter)(),n=(0,l.v9)(function(e){return e.customerInfo.customerObj}),c=(0,l.v9)(function(e){return e.customerInfo.customerInfoObj}),y=(0,i.useState)(""),N=y[0],x=y[1],w=(0,i.useState)(""),O=w[0],k=w[1],P=(0,i.useState)(""),C=P[0],D=P[1],E=(0,i.useState)(""),_=E[0],R=E[1],F=(0,i.useState)(""),I=F[0],S=F[1],A=(0,i.useState)(""),z=A[0],L=A[1],K=(0,i.useState)(""),U=K[0],Y=K[1],M=(0,i.useState)(""),T=M[0],H=M[1];(0,i.useEffect)(function(){e((0,j.b9)(t.query.uid)),k(n?n.uid:""),D(n?n.photoURL:""),R(n?n.displayName:""),S(c?c.bio:""),L(c?(0,v.G3)(c.infoDetail):""),Y(c?c.link.linkName:""),H(c?c.link.linkAddress:"")},[t.query,n?n.uid:null,c?c.uid:null]);var V,q=function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){x(e.currentTarget.result)},n.readAsDataURL(t)},B=function(){return x("")},J=(0,i.useCallback)((V=(0,r.Z)(function(n){return(0,o.__generator)(this,function(r){try{(0,h.V)({header:"회원 정보 변경",icon:"pi pi-exclamation-triangle",message:"정말 변경하시겠습니까?",position:"top",accept:function(){var r={displayName:n.customerDisplayName,bio:n.customerBio,infoDetail:n.customerInfoDetail.replaceAll("\n","\\n"),link:{linkName:n.customerLinkName,linkAddress:n.customerLinkAddress}},o=null,a=document.querySelector("#photo-file").files[0],i=f.cF(),l=f.iH(i,"customerimages/".concat(t.query.uid));a?f.KV(l,a).then(function(t){console.log("upload image",t),f.Jt(l).then(function(t){o=t,e(j.R$({updateCustomerObj:r,photoURL:o})),e((0,j.Z1)({uid:n.customerUid,updateCustomerObj:r,photoURL:o}))})}).catch(function(e){console.log(e)}):(o=n.customerPhotoURL,e(j.R$({updateCustomerObj:r,photoURL:o})),e((0,j.Z1)({uid:n.customerUid,updateCustomerObj:r,photoURL:o}))),t.replace("/customer/".concat(n.customerUid,"/customerProfile"))},reject:function(){}})}catch(o){console.log(o)}return[2]})}),function(e){return V.apply(this,arguments)}),[e]),X=(0,i.useCallback)(function(){try{(0,h.V)({header:"비밀번호 변경 전송",icon:"pi pi-exclamation-triangle",message:"가입하신 이메일 주소로 비밀번호 변경 이메일을 전송하시겠습니까?",position:"top",accept:function(){e(j.hU(customerEmail)),e(j.kS()),t.replace("/")},reject:function(){}})}catch(n){console.log(n)}},[e]),Z=(0,i.useCallback)(function(){try{(0,h.V)({header:"회원 정보 삭제",icon:"pi pi-info-circle",acceptClassName:"p-button-danger",message:"정말 회원님의 계정을 삭제하시겠습니까?",position:"top",accept:function(){console.log("추후 구현할 것")},reject:function(){}})}catch(e){console.log(e)}},[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(h.Q,{}),n?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex align-content-center align-items-center justify-content-center form-vertical-align-center",children:(0,a.jsxs)("div",{className:"card surface-0 p-5 border-round-2xl w-8",children:[(0,a.jsx)("h1",{className:"flex justify-content-center",children:"회원 정보 수정"}),(0,a.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,a.jsx)("label",{children:"프로필 사진"}),(0,a.jsxs)("span",{className:"p-inputgroup",children:[(0,a.jsxs)("label",{htmlFor:"photo-file",className:"file-label",children:[(0,a.jsx)("i",{className:"pi pi-image pr-2"}),"이미지 파일"]}),(0,a.jsx)("input",{id:"photo-file",type:"file",accept:"image/*",onChange:q,style:{opacity:0}}),N&&(0,a.jsxs)("div",{className:"file-newAttachment",children:[(0,a.jsx)("img",{src:N,style:{backgroundImage:N}}),(0,a.jsx)("span",{className:"file-clear",onClick:B,children:(0,a.jsx)("i",{className:"pi pi-times",style:{fontSize:"1.5em"}})})]})]})]}),(0,a.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,a.jsx)("label",{children:"이름"}),(0,a.jsx)("span",{className:"p-inputgroup",children:(0,a.jsx)(p.o,{value:_,onChange:function(e){return R(e.target.value)}})})]}),(0,a.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,a.jsx)("label",{children:"설명"}),(0,a.jsx)("span",{className:"p-inputgroup",children:(0,a.jsx)(p.o,{value:I,onChange:function(e){return S(e.target.value)}})})]}),(0,a.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,a.jsx)("label",{children:"세부정보"}),(0,a.jsx)("span",{className:"p-inputgroup",children:(0,a.jsx)(m.g,{value:z,onChange:function(e){return L(e.target.value)},rows:5,cols:30,autoResize:!0})})]}),(0,a.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,a.jsx)("label",{children:"링크"}),(0,a.jsxs)("div",{className:"p-inputgroup",children:[(0,a.jsx)(p.o,{value:U,onChange:function(e){return Y(e.target.value)}}),(0,a.jsx)(p.o,{value:T,onChange:function(e){return H(e.target.value)}})]})]}),(0,a.jsx)(g.i,{}),(0,a.jsx)("div",{className:"field p-fluid mt-6",children:(0,a.jsx)(d.z,{label:"변경하기",icon:"pi pi-user-edit",className:"pr-5",onClick:function(){return J({customerUid:O,customerPhotoURL:C,customerDisplayName:_,customerBio:I,customerInfoDetail:z,customerLinkName:U,customerLinkAddress:T})}})}),(0,a.jsx)(g.i,{}),(0,a.jsx)("div",{className:"field p-fluid",children:(0,a.jsx)(u(),{href:"/customer/".concat(n.uid,"/customerProfile"),children:(0,a.jsx)(d.z,{label:"돌아가기",icon:"pi pi-arrow-left",className:"p-button-info pr-5"})})}),(0,a.jsx)("div",{className:"field p-fluid",children:(0,a.jsx)(u(),{href:"/",children:(0,a.jsx)(d.z,{label:"메인으로",icon:"pi pi-home",className:"p-button-info pr-5"})})}),(0,a.jsx)(g.i,{}),"google.com"!==n.providerData[0].providerId?(0,a.jsx)("div",{className:"field p-fluid",children:(0,a.jsx)(d.z,{label:"비밀번호 변경",icon:"pi pi-user-edit",className:"pr-5 p-button-warning",onClick:function(){return X()}})}):(0,a.jsx)("div",{}),(0,a.jsx)("div",{className:"field p-fluid",children:(0,a.jsx)(d.z,{label:"계정삭제",icon:"pi pi-user-minus",className:"pr-5 p-button-danger",onClick:function(){return Z()}})})]})})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(b.N,{})})]})}y.layout="L1"},424:function(e,t,n){"use strict";n.d(t,{Q:function(){return v},V:function(){return b}});var r=n(7294),o=n(6367),a=n(9403),i=n(3861),l=n(3308),c=n(519),u=n(4951),s=n(3643);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,l=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(c){l=!0,r=c}finally{try{i||null==o.return||o.return()}finally{if(l)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=h(h({},e),{visible:void 0===e.visible||e.visible})).visible&&c.F.emit("confirm-dialog",e),{show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c.F.emit("confirm-dialog",h(h(h({},e),t),{visible:!0}))},hide:function(){c.F.emit("confirm-dialog",{visible:!1})}}},v=r.memo(r.forwardRef(function(e,t){var n=d(r.useState(e.visible),2),p=n[0],m=n[1],g=d(r.useState(!1),2),h=g[0],b=g[1],j=r.useRef(null),y=function(){return j.current||e},N=function(t){return(j.current||e)[t]},x=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.gb.getPropValue(N(e),n)},w=N("acceptLabel")||(0,o.qJ)("accept"),O=N("rejectLabel")||(0,o.qJ)("reject"),k=function(){x("accept"),D("accept")},P=function(){x("reject"),D("reject")},C=function(){m(!0)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancel";m(!1),x("onHide",e)},E=function(t){if(t.tagKey===e.tagKey){var n=p!==t.visible;N("target")===t.target||e.target?n&&(j.current=t,t.visible?C():D()):(D(),j.current=t,b(!0))}};r.useEffect(function(){e.visible?C():D()},[e.visible]),r.useEffect(function(){return e.target||e.message||c.F.on("confirm-dialog",E),function(){c.F.off("confirm-dialog",E)}},[e.target]),(0,l.rf)(function(){h&&C()},[h]),(0,l.zq)(function(){c.F.off("confirm-dialog",E)}),r.useImperativeHandle(t,function(){return{props:e,confirm:E}});var _,R,F,I,S,A,z=(_=y(),R=(0,s.AK)("p-confirm-dialog",N("className")),F=s.gb.findDiffKeys(_,v.defaultProps),I=s.gb.getJSXElement(N("message"),_),S=s.Cz.getJSXIcon(N("icon"),{className:"p-confirm-dialog-icon"},{props:_}),A=function(){var e=(0,s.AK)("p-confirm-dialog-accept",N("acceptClassName")),t=(0,s.AK)("p-confirm-dialog-reject",{"p-button-text":!N("rejectClassName")},N("rejectClassName")),n=r.createElement(r.Fragment,null,r.createElement(a.z,{label:O,icon:N("rejectIcon"),className:t,onClick:P}),r.createElement(a.z,{label:w,icon:N("acceptIcon"),className:e,onClick:k,autoFocus:!0}));if(N("footer")){var o={accept:k,reject:P,acceptClassName:e,rejectClassName:t,acceptLabel:w,rejectLabel:O,element:n,props:y()};return s.gb.getJSXElement(N("footer"),o)}return n}(),r.createElement(i.V,f({visible:p},F,{className:R,footer:A,onHide:D,breakpoints:N("breakpoints")}),S,r.createElement("span",{className:"p-confirm-dialog-message"},I)));return r.createElement(u.h,{element:z,appendTo:N("appendTo")})}));v.displayName="ConfirmDialog",v.defaultProps={__TYPE:"ConfirmDialog",tagKey:void 0,visible:void 0,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,appendTo:null,footer:null,breakpoints:null,onHide:null,accept:null,reject:null}},2552:function(e,t,n){"use strict";n.d(t,{g:function(){return c}});var r=n(7294),o=n(411),a=n(7074),i=n(3643);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=r.memo(r.forwardRef(function(e,t){var n=r.useRef(t),u=r.useRef(0),s=function(t){e.autoResize&&h(),e.onFocus&&e.onFocus(t)},f=function(t){e.autoResize&&h(),e.onBlur&&e.onBlur(t)},p=function(t){e.autoResize&&h(),e.onKeyUp&&e.onKeyUp(t)},d=function(t){e.onKeyDown&&e.onKeyDown(t),e.keyfilter&&o.F.onKeyPress(t,e.keyfilter,e.validateOnly)},m=function(t){e.onPaste&&e.onPaste(t),e.keyfilter&&o.F.onPaste(t,e.keyfilter,e.validateOnly)},g=function(t){e.autoResize&&h(),e.onInput&&e.onInput(t);var n=t.target;i.gb.isNotEmpty(n.value)?i.p7.addClass(n,"p-filled"):i.p7.removeClass(n,"p-filled")},h=function(e){var t=n.current;t&&i.p7.isVisible(t)&&(u.current||(u.current=t.scrollHeight,t.style.overflow="hidden"),(u.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",u.current=t.scrollHeight))},b=n.current&&n.current.value,v=r.useMemo(function(){return i.gb.isNotEmpty(e.value)||i.gb.isNotEmpty(e.defaultValue)||i.gb.isNotEmpty(b)},[e.value,e.defaultValue,b]);r.useEffect(function(){i.gb.combinedRefs(n,t)},[n,t]),r.useEffect(function(){e.autoResize&&h(!0)},[e.autoResize]);var j=i.gb.isNotEmpty(e.tooltip),y=i.gb.findDiffKeys(e,c.defaultProps),N=(0,i.AK)("p-inputtextarea p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":v,"p-inputtextarea-resizable":e.autoResize},e.className);return r.createElement(r.Fragment,null,r.createElement("textarea",l({ref:n},y,{className:N,onFocus:s,onBlur:f,onKeyUp:p,onKeyDown:d,onInput:g,onPaste:m})),j&&r.createElement(a.u,l({target:n,content:e.tooltip},e.tooltipOptions)))}));c.displayName="InputTextarea",c.defaultProps={__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1}},5427:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={justNow:1e3,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:290304e5}},165:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(287),a=function(e,t){var n=new Date(e),a=new Date,i="en",l={justNow:20,second:60,minute:60,hour:24,day:7,week:4,month:12},c={justAfter:"just after",justNow:"just now",second:" second",minute:" minute",hour:" hour",day:" day",week:" week",month:" month",year:" year"};t&&(t.objectTime&&(a=new Date(t.objectTime)),t.calculate&&(l=r(r({},l),t.calculate)),"ko"===t.lang&&(i="ko",c={justAfter:"조금",justNow:"방금",second:"초",minute:"분",hour:"시간",day:"일",week:"주",month:"개월",year:"년"}));var u=a.valueOf()-n.valueOf();return o.default(u,i,l,c)};t.default=a},287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5427),o=n(2198),a=function(e,t,n,a){var i=["second","minute","hour","day","week","month"],l=!1;if(e<0&&(e*=-1,l=!0),e<n.justNow*r.default.justNow){var c="en"===t?"":l?" 후":" 전";return""+(l?a.justAfter:a.justNow)+c}for(var u=0;u<i.length;u++)if(e<n[i[u]]*r.default[i[u]]){var s=Math.floor(e/r.default[i[u]]);return o.default(t,s,l,a,i[u])}return""+o.default(t,Math.floor(e/r.default.year),l,a,"year")};t.default=a},2198:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o){var a;return a=n?"en"===e?" after":" 후":"en"===e?" ago":" 전","en"===e&&t>1&&(a=n?"s after":"s ago"),""+t+r[o]+a}}},function(e){e.O(0,[861,774,888,179],function(){return e(e.s=8877)}),_N_E=e.O()}]);