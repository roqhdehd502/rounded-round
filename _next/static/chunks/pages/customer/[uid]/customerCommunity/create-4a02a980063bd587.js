(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{6886:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer/[uid]/customerCommunity/create",function(){return n(1748)}])},1748:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return g}});var o=n(7568),r=n(655),i=n(5893),l=n(7294),u=n(9473),a=n(4045),s=n.n(a),c=n(1163),p=n(1153),f=n(9403),d=n(2552),m=n(8918),y=n(7632),h=n(3693);function g(){var e,t=(0,u.I0)(),n=(0,c.useRouter)(),a=(0,l.useState)(""),g=a[0],v=a[1];(0,l.useEffect)(function(){},[n.query]);var b=(0,l.useCallback)((e=(0,o.Z)(function(e){var o,i,l,u,a;return(0,r.__generator)(this,function(r){try{o=(0,y.Z)(),i={uid:e.uid,contents:e.contents.replaceAll("\n","\\n"),uploadDate:Date.now(),thumbnailUuid:o},l=document.querySelector("#photo-file").files[0],u=p.cF(),a=p.iH(u,"customercommunityimages/".concat(e.uid,"/").concat(o)),l?p.KV(a,l).then(function(e){console.log("upload image",e),p.Jt(a).then(function(e){i.thumbnail=e,t((0,h.MS)(i))})}).catch(function(e){console.log(e)}):(i.thumbnail="",t((0,h.MS)(i))),n.replace("/customer/".concat(e.uid,"/customerCommunity"))}catch(s){console.log(s)}return[2]})}),function(t){return e.apply(this,arguments)}),[t]);return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"flex align-content-center align-items-center justify-content-center form-vertical-align-center",children:(0,i.jsxs)("div",{className:"card surface-0 p-5 border-round-2xl w-8",children:[(0,i.jsx)("h1",{className:"flex justify-content-center",children:"유저 커뮤니티 작성"}),(0,i.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,i.jsx)("label",{children:"썸네일"}),(0,i.jsx)("span",{className:"p-inputgroup",children:(0,i.jsx)("input",{id:"photo-file",type:"file",accept:"image/*",placeholder:"이미지를 업로드 하세요"})})]}),(0,i.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,i.jsx)("label",{children:"내용"}),(0,i.jsx)("span",{className:"p-inputgroup",children:(0,i.jsx)(d.g,{value:g,onChange:function(e){return v(e.target.value)},rows:5,cols:30,autoResize:!0})})]}),(0,i.jsx)("div",{className:"field p-fluid mt-6",children:(0,i.jsx)(f.z,{label:"등록하기",icon:"pi pi-user-edit",className:"pr-5",onClick:function(){return b({uid:n.query.uid,contents:g})}})}),(0,i.jsx)(m.i,{}),(0,i.jsx)("div",{className:"field p-fluid",children:(0,i.jsx)(s(),{href:"/customer/".concat(n.query.uid,"/customerCommunity"),children:(0,i.jsx)(f.z,{label:"돌아가기",icon:"pi pi-arrow-left",className:"p-button-info pr-5"})})}),(0,i.jsx)("div",{className:"field p-fluid",children:(0,i.jsx)(s(),{href:"/",children:(0,i.jsx)(f.z,{label:"메인으로",icon:"pi pi-home",className:"p-button-info pr-5"})})})]})})})}g.layout="L1"},2552:function(e,t,n){"use strict";n.d(t,{g:function(){return a}});var o=n(7294),r=n(411),i=n(7074),l=n(3643);function u(){return(u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}var a=o.memo(o.forwardRef(function(e,t){var n=o.useRef(t),s=o.useRef(0),c=function(t){e.autoResize&&h(),e.onFocus&&e.onFocus(t)},p=function(t){e.autoResize&&h(),e.onBlur&&e.onBlur(t)},f=function(t){e.autoResize&&h(),e.onKeyUp&&e.onKeyUp(t)},d=function(t){e.onKeyDown&&e.onKeyDown(t),e.keyfilter&&r.F.onKeyPress(t,e.keyfilter,e.validateOnly)},m=function(t){e.onPaste&&e.onPaste(t),e.keyfilter&&r.F.onPaste(t,e.keyfilter,e.validateOnly)},y=function(t){e.autoResize&&h(),e.onInput&&e.onInput(t);var n=t.target;l.gb.isNotEmpty(n.value)?l.p7.addClass(n,"p-filled"):l.p7.removeClass(n,"p-filled")},h=function(e){var t=n.current;t&&l.p7.isVisible(t)&&(s.current||(s.current=t.scrollHeight,t.style.overflow="hidden"),(s.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",s.current=t.scrollHeight))},g=n.current&&n.current.value,v=o.useMemo(function(){return l.gb.isNotEmpty(e.value)||l.gb.isNotEmpty(e.defaultValue)||l.gb.isNotEmpty(g)},[e.value,e.defaultValue,g]);o.useEffect(function(){l.gb.combinedRefs(n,t)},[n,t]),o.useEffect(function(){e.autoResize&&h(!0)},[e.autoResize]);var b=l.gb.isNotEmpty(e.tooltip),x=l.gb.findDiffKeys(e,a.defaultProps),j=(0,l.AK)("p-inputtextarea p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":v,"p-inputtextarea-resizable":e.autoResize},e.className);return o.createElement(o.Fragment,null,o.createElement("textarea",u({ref:n},x,{className:j,onFocus:c,onBlur:p,onKeyUp:f,onKeyDown:d,onInput:y,onPaste:m})),b&&o.createElement(i.u,u({target:n,content:e.tooltip},e.tooltipOptions)))}));a.displayName="InputTextarea",a.defaultProps={__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1}},7632:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});let o="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var r={randomUUID:o};let i,l=new Uint8Array(16);function u(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(l)}let a=[];for(let s=0;s<256;++s)a.push((s+256).toString(16).slice(1));var c=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();e=e||{};let o=e.random||(e.rng||u)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=o[i];return t}return function(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}(o)}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6886)}),_N_E=e.O()}]);