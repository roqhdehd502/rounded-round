(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[473],{7956:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/customer/[uid]/customerCommunity/update/[docId]",function(){return n(6051)}])},2190:function(e,t,n){"use strict";n.d(t,{G3:function(){return l},ZI:function(){return i},kh:function(){return c},uo:function(){return u},wj:function(){return a}});var r=n(165),o=n.n(r),a=function(e,t){return e.length>t?"".concat(e.substr(0,t+1),"..."):e},i=function(e){return e.toLocaleString("en")},c=function(e){return o()(new Date(e),{objectTime:Date.now(),lang:"ko"})},u=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYYMMDD",r=new Date(e);switch(n){case"YYYYMMDD":t="".concat(r.getFullYear(),".").concat(r.getMonth()+1,".").concat(r.getDate());break;case"YYYY":t="".concat(r.getFullYear());break;case"MM":t="".concat(r.getMonth());break;case"DD":t="".concat(r.getDate())}return t},l=function(e){return e.replace(/\\n/g,"\n")}},6051:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(7568),o=n(655),a=n(5893),i=n(7294),c=n(9473),u=n(4045),l=n.n(u),s=n(1163),f=n(1153),p=n(9403),m=n(2552),d=n(8918),g=n(424),y=n(9732),h=n(2190),b=n(3693);function v(){var e,t=(0,c.I0)(),n=(0,s.useRouter)(),u=(0,c.v9)(function(e){return e.customerCommunitiesInfo.customerCommunityObj}),v=(0,i.useState)(""),j=v[0],w=v[1],N=(0,i.useState)(""),O=N[0],x=N[1],k=(0,i.useState)((0,h.G3)("")),E=k[0],P=k[1];(0,i.useEffect)(function(){t((0,b.K9)(n.query.docId)),w(u?u.thumbnail:""),x(u?u.thumbnailUuid:""),P(u?(0,h.G3)(u.contents):"")},[n.query,u?u.docId:null]);var C=(0,i.useCallback)((e=(0,r.Z)(function(e){return(0,o.__generator)(this,function(r){try{(0,g.V)({header:"회원 커뮤니티 수정",icon:"pi pi-exclamation-triangle",message:"정말 수정하시겠습니까?",position:"top",accept:function(){var r={docId:n.query.docId,thumbnail:e.communityThumbnail,contents:e.communityContents.replaceAll("\n","\\n")},o=document.querySelector("#photo-file").files[0],a=f.cF(),i=f.iH(a,"customercommunityimages/".concat(n.query.uid,"/").concat(e.communityThumbnailUuid));o?f.KV(i,o).then(function(e){console.log("upload image",e),f.Jt(i).then(function(e){r.thumbnail=e,t((0,b.aR)(r))})}).catch(function(e){console.log(e)}):t((0,b.aR)(r)),n.replace("/customer/".concat(n.query.uid,"/customerCommunity"))},reject:function(){}})}catch(o){console.log(o)}return[2]})}),function(t){return e.apply(this,arguments)}),[t]),_=(0,i.useCallback)((0,r.Z)(function(){return(0,o.__generator)(this,function(e){try{(0,g.V)({header:"회원 커뮤니티 삭제",icon:"pi pi-exclamation-triangle",message:"정말 삭제하시겠습니까?",position:"top",accept:function(){if(u.thumbnail){var e=f.cF(),r=f.iH(e,"customercommunityimages/".concat(n.query.uid,"/").concat(u.thumbnailUuid));f.oq(r).then(function(){t((0,b.pi)(n.query.docId))}).catch(function(e){console.log(e)})}else t((0,b.pi)(n.query.docId));n.replace("/customer/".concat(n.query.uid,"/customerCommunity"))},reject:function(){}})}catch(r){console.log(r)}return[2]})}),[t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.Q,{}),u?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"flex align-content-center align-items-center justify-content-center form-vertical-align-center",children:(0,a.jsxs)("div",{className:"card surface-0 p-5 border-round-2xl w-8",children:[(0,a.jsx)("h1",{className:"flex justify-content-center",children:"유저 커뮤니티 수정"}),(0,a.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,a.jsx)("label",{children:"썸네일"}),(0,a.jsx)("span",{className:"p-inputgroup",children:(0,a.jsx)("input",{id:"photo-file",type:"file",accept:"image/*",placeholder:"수정할 이미지를 업로드 하세요"})})]}),(0,a.jsxs)("div",{className:"field p-fluid mt-6",children:[(0,a.jsx)("label",{children:"내용"}),(0,a.jsx)("span",{className:"p-inputgroup",children:(0,a.jsx)(m.g,{value:E,onChange:function(e){return P(e.target.value)},rows:5,cols:30,autoResize:!0})})]}),(0,a.jsx)("div",{className:"field p-fluid mt-6",children:(0,a.jsx)(p.z,{label:"수정하기",icon:"pi pi-user-edit",className:"pr-5",onClick:function(){return C({communityThumbnail:j,communityThumbnailUuid:O,communityContents:E})}})}),(0,a.jsx)(d.i,{}),(0,a.jsx)("div",{className:"field p-fluid",children:(0,a.jsx)(l(),{href:"/customer/".concat(n.query.uid,"/customerCommunity"),children:(0,a.jsx)(p.z,{label:"돌아가기",icon:"pi pi-arrow-left",className:"p-button-info pr-5"})})}),(0,a.jsx)("div",{className:"field p-fluid",children:(0,a.jsx)(l(),{href:"/",children:(0,a.jsx)(p.z,{label:"메인으로",icon:"pi pi-home",className:"p-button-info pr-5"})})}),(0,a.jsx)(d.i,{}),(0,a.jsx)("div",{className:"field p-fluid",children:(0,a.jsx)(p.z,{label:"삭제하기",icon:"pi pi-trash",className:"p-button-danger pr-5",onClick:function(){return _()}})})]})})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(y.N,{})})]})}v.layout="L1"},424:function(e,t,n){"use strict";n.d(t,{Q:function(){return b},V:function(){return h}});var r=n(7294),o=n(6367),a=n(9403),i=n(3861),c=n(3308),u=n(519),l=n(4951),s=n(3643);function f(){return(f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,r,o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=o){var a=[],i=!0,c=!1;try{for(o=o.call(e);!(i=(n=o.next()).done)&&(a.push(n.value),!t||a.length!==t);i=!0);}catch(u){c=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(e=y(y({},e),{visible:void 0===e.visible||e.visible})).visible&&u.F.emit("confirm-dialog",e),{show:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u.F.emit("confirm-dialog",y(y(y({},e),t),{visible:!0}))},hide:function(){u.F.emit("confirm-dialog",{visible:!1})}}},b=r.memo(r.forwardRef(function(e,t){var n=m(r.useState(e.visible),2),p=n[0],d=n[1],g=m(r.useState(!1),2),y=g[0],h=g[1],v=r.useRef(null),j=function(){return v.current||e},w=function(t){return(v.current||e)[t]},N=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return s.gb.getPropValue(w(e),n)},O=w("acceptLabel")||(0,o.qJ)("accept"),x=w("rejectLabel")||(0,o.qJ)("reject"),k=function(){N("accept"),C("accept")},E=function(){N("reject"),C("reject")},P=function(){d(!0)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cancel";d(!1),N("onHide",e)},_=function(t){if(t.tagKey===e.tagKey){var n=p!==t.visible;w("target")===t.target||e.target?n&&(v.current=t,t.visible?P():C()):(C(),v.current=t,h(!0))}};r.useEffect(function(){e.visible?P():C()},[e.visible]),r.useEffect(function(){return e.target||e.message||u.F.on("confirm-dialog",_),function(){u.F.off("confirm-dialog",_)}},[e.target]),(0,c.rf)(function(){y&&P()},[y]),(0,c.zq)(function(){u.F.off("confirm-dialog",_)}),r.useImperativeHandle(t,function(){return{props:e,confirm:_}});var D,I,F,K,z,R,S=(D=j(),I=(0,s.AK)("p-confirm-dialog",w("className")),F=s.gb.findDiffKeys(D,b.defaultProps),K=s.gb.getJSXElement(w("message"),D),z=s.Cz.getJSXIcon(w("icon"),{className:"p-confirm-dialog-icon"},{props:D}),R=function(){var e=(0,s.AK)("p-confirm-dialog-accept",w("acceptClassName")),t=(0,s.AK)("p-confirm-dialog-reject",{"p-button-text":!w("rejectClassName")},w("rejectClassName")),n=r.createElement(r.Fragment,null,r.createElement(a.z,{label:x,icon:w("rejectIcon"),className:t,onClick:E}),r.createElement(a.z,{label:O,icon:w("acceptIcon"),className:e,onClick:k,autoFocus:!0}));if(w("footer")){var o={accept:k,reject:E,acceptClassName:e,rejectClassName:t,acceptLabel:O,rejectLabel:x,element:n,props:j()};return s.gb.getJSXElement(w("footer"),o)}return n}(),r.createElement(i.V,f({visible:p},F,{className:I,footer:R,onHide:C,breakpoints:w("breakpoints")}),z,r.createElement("span",{className:"p-confirm-dialog-message"},K)));return r.createElement(l.h,{element:S,appendTo:w("appendTo")})}));b.displayName="ConfirmDialog",b.defaultProps={__TYPE:"ConfirmDialog",tagKey:void 0,visible:void 0,message:null,rejectLabel:null,acceptLabel:null,icon:null,rejectIcon:null,acceptIcon:null,rejectClassName:null,acceptClassName:null,className:null,appendTo:null,footer:null,breakpoints:null,onHide:null,accept:null,reject:null}},2552:function(e,t,n){"use strict";n.d(t,{g:function(){return u}});var r=n(7294),o=n(411),a=n(7074),i=n(3643);function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var u=r.memo(r.forwardRef(function(e,t){var n=r.useRef(t),l=r.useRef(0),s=function(t){e.autoResize&&y(),e.onFocus&&e.onFocus(t)},f=function(t){e.autoResize&&y(),e.onBlur&&e.onBlur(t)},p=function(t){e.autoResize&&y(),e.onKeyUp&&e.onKeyUp(t)},m=function(t){e.onKeyDown&&e.onKeyDown(t),e.keyfilter&&o.F.onKeyPress(t,e.keyfilter,e.validateOnly)},d=function(t){e.onPaste&&e.onPaste(t),e.keyfilter&&o.F.onPaste(t,e.keyfilter,e.validateOnly)},g=function(t){e.autoResize&&y(),e.onInput&&e.onInput(t);var n=t.target;i.gb.isNotEmpty(n.value)?i.p7.addClass(n,"p-filled"):i.p7.removeClass(n,"p-filled")},y=function(e){var t=n.current;t&&i.p7.isVisible(t)&&(l.current||(l.current=t.scrollHeight,t.style.overflow="hidden"),(l.current!==t.scrollHeight||e)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",l.current=t.scrollHeight))},h=n.current&&n.current.value,b=r.useMemo(function(){return i.gb.isNotEmpty(e.value)||i.gb.isNotEmpty(e.defaultValue)||i.gb.isNotEmpty(h)},[e.value,e.defaultValue,h]);r.useEffect(function(){i.gb.combinedRefs(n,t)},[n,t]),r.useEffect(function(){e.autoResize&&y(!0)},[e.autoResize]);var v=i.gb.isNotEmpty(e.tooltip),j=i.gb.findDiffKeys(e,u.defaultProps),w=(0,i.AK)("p-inputtextarea p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":b,"p-inputtextarea-resizable":e.autoResize},e.className);return r.createElement(r.Fragment,null,r.createElement("textarea",c({ref:n},j,{className:w,onFocus:s,onBlur:f,onKeyUp:p,onKeyDown:m,onInput:g,onPaste:d})),v&&r.createElement(a.u,c({target:n,content:e.tooltip},e.tooltipOptions)))}));u.displayName="InputTextarea",u.defaultProps={__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1}},5427:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={justNow:1e3,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:290304e5}},165:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(287),a=function(e,t){var n=new Date(e),a=new Date,i="en",c={justNow:20,second:60,minute:60,hour:24,day:7,week:4,month:12},u={justAfter:"just after",justNow:"just now",second:" second",minute:" minute",hour:" hour",day:" day",week:" week",month:" month",year:" year"};t&&(t.objectTime&&(a=new Date(t.objectTime)),t.calculate&&(c=r(r({},c),t.calculate)),"ko"===t.lang&&(i="ko",u={justAfter:"조금",justNow:"방금",second:"초",minute:"분",hour:"시간",day:"일",week:"주",month:"개월",year:"년"}));var l=a.valueOf()-n.valueOf();return o.default(l,i,c,u)};t.default=a},287:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(5427),o=n(2198),a=function(e,t,n,a){var i=["second","minute","hour","day","week","month"],c=!1;if(e<0&&(e*=-1,c=!0),e<n.justNow*r.default.justNow){var u="en"===t?"":c?" 후":" 전";return""+(c?a.justAfter:a.justNow)+u}for(var l=0;l<i.length;l++)if(e<n[i[l]]*r.default[i[l]]){var s=Math.floor(e/r.default[i[l]]);return o.default(t,s,c,a,i[l])}return""+o.default(t,Math.floor(e/r.default.year),c,a,"year")};t.default=a},2198:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o){var a;return a=n?"en"===e?" after":" 후":"en"===e?" ago":" 전","en"===e&&t>1&&(a=n?"s after":"s ago"),""+t+r[o]+a}}},function(e){e.O(0,[861,774,888,179],function(){return e(e.s=7956)}),_N_E=e.O()}]);